schema: '2.0'
stages:
  preprocess:
    cmd: python src/data/preprocess.py
    deps:
    - path: data/raw/procedimentos_medicos.csv
      hash: md5
      md5: edc2756b5345fd19e814fced11277f45
      size: 669525
    - path: src/data/preprocess.py
      hash: md5
      md5: 85249c0a9c3c8eae4f60bf05e114517e
      size: 3046
    params:
      params.yaml:
        preprocess.random_state: 42
        preprocess.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 81c04c99e695da02ae9425ec7d19fd9a
      size: 240224
    - path: data/processed/train.csv
      hash: md5
      md5: d997d63c9d435a7e84561291cda2eb1f
      size: 958336
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: d997d63c9d435a7e84561291cda2eb1f
      size: 958336
    - path: src/models/train.py
      hash: md5
      md5: 11e2186fed00f0109f4e65bb544392f0
      size: 10423
    params:
      params.yaml:
        train.cv_folds: 5
        train.random_state: 42
    outs:
    - path: metrics.json
      hash: md5
      md5: 24415b482bae994c78a9008cb72d615e
      size: 247
    - path: models/best_model.pkl
      hash: md5
      md5: ae677d0c207c1f4fe2044296b71999fd
      size: 291706
    - path: plots/confusion_matrix.json
      hash: md5
      md5: 2c998fa4ae72b6531eb920be32baedc4
      size: 92476
    - path: plots/roc_curve.json
      hash: md5
      md5: 6efc1dbe3abc52d06b0deee512a19c84
      size: 5020
    - path: reports/figures/confusion_matrix.png
      hash: md5
      md5: 122a17b355f2a9f016c8cf0e74e0e2b2
      size: 26610
    - path: reports/figures/roc_curve.png
      hash: md5
      md5: 8d972061b161b5af13487f223415e861
      size: 24384
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 81c04c99e695da02ae9425ec7d19fd9a
      size: 240224
    - path: models/best_model.pkl
      hash: md5
      md5: ae677d0c207c1f4fe2044296b71999fd
      size: 291706
    - path: src/models/evaluate.py
      hash: md5
      md5: f1b090c89f68d7efc6e00fa7ba267288
      size: 6423
    outs:
    - path: metrics_test.json
      hash: md5
      md5: 61bb6c67e0a84cdebf7fecb15798a884
      size: 180
    - path: plots/test_confusion_matrix.json
      hash: md5
      md5: 94a6937335ef73f0752e17af4a8e4980
      size: 23140
    - path: plots/test_roc_curve.json
      hash: md5
      md5: 6974a7e30a22fdde6b6ca7a0e1a595d6
      size: 1975
