schema: '2.0'
stages:
  preprocess:
    cmd: python src/data/preprocess.py
    deps:
    - path: data/raw/procedimentos_medicos.csv
      hash: md5
      md5: edc2756b5345fd19e814fced11277f45
      size: 669525
    - path: src/data/preprocess.py
      hash: md5
      md5: 7c2b8f8283f48ca7b4d3e894f000adc3
      size: 3171
    params:
      params.yaml:
        preprocess.random_state: 42
        preprocess.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 9029fc55ff5dc0238f54308a870a19f7
      size: 280644
    - path: data/processed/train.csv
      hash: md5
      md5: 349885374c7ba98cbc9531761eae25ae
      size: 1120320
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 349885374c7ba98cbc9531761eae25ae
      size: 1120320
    - path: src/models/train.py
      hash: md5
      md5: c66bf307e1ef08d4a9319379511a6504
      size: 10676
    params:
      params.yaml:
        train.cv_folds: 5
        train.random_state: 42
    outs:
    - path: metrics.json
      hash: md5
      md5: 92030674033dff0a926d569a62e3e81d
      size: 237
    - path: models/best_model.pkl
      hash: md5
      md5: e348d9adeb047b8a40cb87046bb3b60d
      size: 315384
    - path: plots/confusion_matrix.json
      hash: md5
      md5: dbe2bb324d4c323b908c93a9d2f30fee
      size: 108001
    - path: plots/roc_curve.json
      hash: md5
      md5: 40db8efa567f7f80c160efb7eb91b26b
      size: 16095
    - path: reports/figures/confusion_matrix.png
      hash: md5
      md5: 7fe428498143813a64858d36fe1924be
      size: 26300
    - path: reports/figures/roc_curve.png
      hash: md5
      md5: d26ea665ec8932836c1c641016c086ac
      size: 25065
  evaluate:
    cmd: python src/models/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 9029fc55ff5dc0238f54308a870a19f7
      size: 280644
    - path: models/best_model.pkl
      hash: md5
      md5: e348d9adeb047b8a40cb87046bb3b60d
      size: 315384
    - path: src/models/evaluate.py
      hash: md5
      md5: 160edcc8005c181dfc39da862efb1c65
      size: 6606
    outs:
    - path: metrics_test.json
      hash: md5
      md5: 674b014fdb8f455e76d29551d39aca34
      size: 167
    - path: plots/test_confusion_matrix.json
      hash: md5
      md5: 68761ce95074cf1299eacd13ab4e279c
      size: 27001
    - path: plots/test_roc_curve.json
      hash: md5
      md5: e72f1f0e307c0e4e17b9bb83a2c748bb
      size: 4851
